# Asterisk Manager Interface(AMI)

Asterisk Manager Interface (AMI) is a powerful and convenient Asterisk programming interface (API) for managing the system from external programs. Thanks to the AMI, external programs can connect to Asterisk via the TCP protocol, initiate the execution of commands, read the result of their execution, as well as receive notifications about events in real time.

AMI is often used for integration with business processes and systems, CRM software (Customer Relationship Management - customer interaction management). Asterisk is often managed from the CLI console, but using AMI does not require direct access to the server running Asterisk. AMI is the simplest tool, which in the hands of a developer can be a very powerful and flexible tool for integration with other software products. It enables developers to use the information generated by Asterisk in real time.&#x20;

The first thing to do is to enable the AMI and create a user with which the client program will authenticate. **"System"** - **"Asterisk Manager Interface"**

<figure><img src="../../.gitbook/assets/1 (24).png" alt=""><figcaption></figcaption></figure>

To add a new account, you must specify a Username and Password. In addition, it is necessary to set a Network filter, i.e. from which subnet the connection to the AMI user is allowed. You can allow connections from any addresses, or specify a specific network that you have configured in the **Network and Firewall â†’** [**Network Firewall.**](../connectivity/firewall.md)

<figure><img src="../../.gitbook/assets/2 (27).png" alt=""><figcaption></figcaption></figure>

## AMI User Options and Rights

_AMI user rights set in the \[user] section of the configuration file /etc/asterisk/manager.conf_

<table><thead><tr><th width="155.33333333333331">rights ID</th><th>reading</th><th>writing</th></tr></thead><tbody><tr><td>System</td><td>Reading general information about the system, for example, configuration restart notifications</td><td>Allows the user to execute Asterisk control system commands such as Restart, Reload, or Shutdown. This permission also gives users the ability to run system commands outside of Asterisk. Granting such permission is equivalent to granting access to the command shell, with the rights of the user/group under which the Asterisk process is running</td></tr><tr><td>Call</td><td>Reading an event about channels in the system</td><td>Allows the user to set information on channels</td></tr><tr><td>Log</td><td>Provides the user with access to reading logs</td><td>Read only</td></tr><tr><td>Verbose</td><td>Provides the user with access to reading detailed logs</td><td>Read only</td></tr><tr><td>Agent</td><td>Reading agent status events from app_queue and chan_agent modules</td><td>Allows the user to perform actions to manage and retrieve the status of queues and agents</td></tr><tr><td>User</td><td>Access to user events as well as Jabber/XMPP user events</td><td>Allows the user to execute the UserEvent command to create custom events</td></tr><tr><td>Config</td><td>For recording only</td><td>Allows the user to receive, update, and overload configuration files</td></tr><tr><td>Command</td><td>For recording only</td><td>Allows the user to execute Asterisk CLI commands from AMI</td></tr><tr><td>DTMF</td><td>Allows the user to receive DTMF events</td><td>Read only</td></tr><tr><td>Reporting</td><td>Access to call quality events such as jitterbuffer or RTCP</td><td>Allows the user to perform a number of actions to obtain statistics and information about the status of the entire system</td></tr><tr><td>Cdr</td><td>Reading data write events in CDR</td><td>Read only</td></tr><tr><td>Dialplan</td><td>Reading events for setting dialplan variables, creating extents</td><td>Read only</td></tr><tr><td>Originate</td><td>For recording only</td><td>Allowing the user to execute the Originate command, which sends a request to create a new call</td></tr></tbody></table>
